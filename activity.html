<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>activity</title>
<link rel="stylesheet" href="css/reset.css">
<link rel="stylesheet" href="css/main.css">
</head>
<body>
<div class="container">
<div id="header">
<div id="left-top">
    <ul>
      <li><i class="iconfont">&#xe611;</i><a href="#">给我们意见</a></li>
      <li><i class="iconfont">&#xe91a;</i><a href="#">关于我们</a></li>
      <li><i class="iconfont">&#xe638;</i><a href="javascript:aLogin()">会员登录</a></li>
  </ul>

</div>
  <div id="navi">
  <ul>
      <li><a href="index.html">首页</a></li>
      <li><a href="breads.html">全部面包</a></li>
      <li><a href="course.html">面包课堂</a></li>
      <li><a href="activity.html">会员社区</a></li>
  </ul>
  </div>
  <div class="form-box">
     <form action="#" method="get">
       <input type="text" placeholder="搜索" class="search">
       <input type = "submit"class="searchBtn" value=""/>
        <!--<button class="searchBtn"><i class="iconfont">&#xe608;</i></button>-->
    </form>
  </div>
</div>

<div class="activity">
	

<div class="weChat">
<div class="weChatHeader clearfloat">
	<h2>热门话题</h2>
	<button class="newTopic">发表话题</button>
</div>

<div class="chat-menu">
	<ul>
	  <li class="clearfloat"> 
	  <img src="image/activity/story.jpg" alt="">
	    <div class="chatText">
	      <h2 class="name">我与烘培面包的故事</h2>
	      <p class="time">创建时间：2015-06-24 | 话题数：113920</p>
	      <h4 class="username">管理员：Alan</h4>
	      <div class="info">
	        <span>简介</span>
	        <p>一起来分享一下，你烘培面包的趣事吧!</p>
	      </div>	      
	    </div>
	  </li>
	  <li class="clearfloat">
	  	<img src="image/activity/create.jpg" alt="">
	    <div class="chatText">
	      <h2 class="name">我的自创面包</h2>
	      <p class="time">创建时间：2016-10-25 | 话题数：3920</p>
	      <h4 class="username">管理员：Bob</h4>
	      <div class="info">
	        <span>简介</span>
	        <p>每次做面包都会有新发现，一不小心一款的新型面包就诞生了!</p>
	      </div>	      
	    </div>
	  </li>
	</ul>
</div>
</div>

<div class="act-menu">
<div class="new-menu">
<h2 id="act-caption">最新活动</h2>
<ul id="new_main" class="clearfloat">
	<li class="clearfloat">
    	<img src="image/activity/{{index}}.jpg"/>
        <div class="new-text">
        <a class="title" href="#">{{title}}</a>
        <h4 class="act-time">{{date}}</h4>
        <p>{{text}}</p>
        </div>
        <a class="more" href="#">more>></a>
	</li>
</ul>
</div>
<div class="old">
<h2 id="act-caption">活动回顾</h2>
</div>
<ul id="template_main" class="clearfloat">
  <li class="clearfloat">
      <img src="image/activity/{{index}}.jpg"/>
        <div class="new-text">
        <a class="title" href="#">{{title}}</a>
        <h4 class="act-time">{{date}}</h4>
        <p>{{text}}</p>
        </div>
        <a class="more" href="#">more>></a>
  </li>
</ul>
</div>
</div> 
</div>
<div id="footer">
  <img src="image/logos.png">
  <div class="footerDl clearfloat">
    <dl class="footerText">
      <dt>给我们的意见</dt>
      <dd><a href="#">发送邮件</a></dd>
      <dd><a href="#">联系我们</a></dd>
    </dl>
   <dl class="footerText">
     <dt>关于我们</dt>
       <dd><a href="https://www.freecodecamp.cn/cyanxxx">关注作者</a></dd>
       <dd><a href="http://www.imooc.com/learn/412">查看参考</a></dd>
   </dl>
 <dl class="footerText">
   <dt>客户服务</dt>
     <dd><a href="#">帮助中心</a></dd>
     <dd><a href="#">联系客服</a></dd>
 </dl>
 <dl class="footerText">
   <dt>友情链接</dt>
     <dd><a href="http://www.haodou.com/s?wd=%E5%90%90%E5%8F%B8&tp=recipe">好豆网</a></dd>
     <dd><a href="https://www.zhihu.com/topic/19629004/top-answers">知乎烘培</a></dd>
 </dl>
  </div>
</div>
<script>
var data1=[
{img:'December',a:'冬季面包，甜食才是王道',h4:'2016.12.1-2016.12.31',p:'时间飞逝，一转眼又到12月份了，这是这一年里的最后一个月了，在这一年里我们学习了很多，也吸收了很多，感谢大家对小组的支持，感谢所有导师们对小组的付出，期待2017年给大家更多的惊喜。'},

];
var data2=[
{img:'November',a:'初冬来临，制作热乎乎面包',h4:'2016.11.1-2016.11.30',p:'迈进十一月，恍惚已进入初冬的感觉，天气骤冷，阴雨绵绵，寒风扑面而来，让人觉得甚是寒冷。快来加入十一月活动吧 '},
{img:'Octomber',a:'深秋时节，制酥软面包',h4:'2016.10.1-2016.10.30',p:'金色的十月，是收获喜悦的季节。天空下是幸福的大地，一片丰收美景，秋风吹拂这硕果累累的田地，一个个成熟的果子在枝头深情跃动，也在庆贺着丰收。快来加入十月活动吧 '},

];

var g=function(id){
	if(id.substr(0,1)=="."){
		return document.getElementsByClassName(id.substr(1));
	}
		return document.getElementById(id);
		
	}

function addtxt1(){
  var tpl_main = g('new_main').innerHTML.replace(/^\s+/,'').replace(/\s+$/,'');
  var out_main=[];
  for (i in data1){
  var _html_main = tpl_main.replace(/{{index}}/g,data1[i].img)
                            .replace(/{{title}}/g,data1[i].a)
                            .replace(/{{date}}/g,data1[i].h4)
                            .replace(/{{text}}/g,data1[i].p);
  out_main .push(_html_main);
  }
  g('new_main').innerHTML=out_main.join('');

  }

function addtxt2(){
	var tpl_main = g('template_main').innerHTML.replace(/^\s+/,'').replace(/\s+$/,'');
  var out_main=[];
  for (i in data2){
  var _html_main = tpl_main.replace(/{{index}}/g,data2[i].img)
                            .replace(/{{title}}/g,data2[i].a)
                            .replace(/{{date}}/g,data2[i].h4)
                            .replace(/{{text}}/g,data2[i].p);
  out_main .push(_html_main);
  }
  g('template_main').innerHTML=out_main.join('');

	}

function aLogin(){
  //插入遮罩层
    var sHeight = document.body.scrollHeight;
    var sWidth = document.body.scrollWidth;
    var mask = document.createElement("div");
    mask.id = "mask";
    mask.style.height = sHeight + "px";
    mask.style.width = sWidth + "px";
  document.body.appendChild(mask);

  //插入login
  var login = document.createElement("div");
  login.id ="login";
  document.body.appendChild(login);
  login.innerHTML="<form action='#' method='post'><div id='loginTop'><h3>登录</h3><div id='close'></div></div><div class='formGroups '><input type='text' placeholder='用户名'></div><div class='formGroups'><input type='password' placeholder='密码'> </div><div id='loginTip'><input type='checkbox'><span>两周内自动登录</span></div><div class='loginBtn'><input type='submit' value='登录' class='submit'></div><div class='loginBtn'><input type='submit' value='注册' class='submit'></div></form>";
  

  var cHeight = document.documentElement.clientHeight;
  var oHeight = login.offsetHeight;
  var oWidth = login.offsetWidth;
  login.style.top = (cHeight-oHeight)/2;
  login.style.left = (sWidth-oWidth)/2;

  //关闭
  var close = document.getElementById("close");
  close.onclick = function(){
    document.body.removeChild(login);
    document.body.removeChild(mask);
  }
}
 addtxt1();
 addtxt2();

</script>                                  
</body>
</html>
